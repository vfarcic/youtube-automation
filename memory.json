{"type":"entity","name":"YouTube Automation Tool","entityType":"Project","observations":["A Go-based command-line tool for automating YouTube video publishing workflow","Features include: YouTube video uploads with metadata, Hugo blog integration, Bluesky social media posting","Configuration via settings.yaml file and environment variables","Key files: main.go, cli.go, youtube.go, email.go, hugo.go, bluesky.go"]}
{"type":"entity","name":"Project Config","entityType":"Configuration","observations":["Uses settings.yaml with sections for email, AI, YouTube, Hugo, and Bluesky","Sensitive data can use environment variables: EMAIL_PASSWORD, AI_KEY, YOUTUBE_API_KEY, BLUESKY_PASSWORD","Required flags include email settings, AI settings (Azure OpenAI), YouTube API key, and Hugo path","Optional flags for Bluesky integration"]}
{"type":"entity","name":"Project Requirements","entityType":"Dependencies","observations":["Go 1.x","YouTube API credentials (client_secret.json)","Azure OpenAI API key","Email account for notifications","Optional: Hugo site repository","Optional: Bluesky account"]}
{"type":"entity","name":"Git Workflow Rule","entityType":"Process","observations":["When pushing changes to Git, add a list of completed Taskmaster tasks to the PR description","Mark tasks as 'done' in the PR description that have been completed in the current work","Always include task IDs and titles for clear tracking of completed work","This provides better visibility into what each PR accomplishes"]}
{"type":"entity","name":"Charmbracelet Libraries","entityType":"UI Framework","observations":["The YouTube Automation project uses Charmbracelet libraries for its terminal UI components","Uses 'huh' library for interactive forms and confirmation dialogs","Uses 'lipgloss' for terminal styling and text formatting","Part of the confirmation utility implementation in pkg/utils/confirmation.go","Provides a consistent and user-friendly terminal UI experience"]}
{"type":"entity","entityType":"TestingGuideline","name":"MockingStrategy","observations":["Avoid doing mock except when working with external APIs.","Focus on integration tests with temporary files and actual file system operations where possible for non-external API interactions."]}
{"type":"entity","observations":["The project is written in Go.","The project is hosted on GitHub.","The `gh` CLI can be used for GitHub command-line operations.","The `github` MCP toolset can be used for interacting with the GitHub API."],"name":"youtube-automation","entityType":"Project"}
{"type":"entity","observations":["The `tasks/` directory and its contents are listed in `.gitignore`.","When removing task files as part of a workflow (like PR finalization):","1. Remove ALL files from the `tasks/` directory using `rm -rf tasks/*` or `rm -f tasks/*` (if you want to be prompted for directories). Be cautious with `rm -rf`.","2. This is a local filesystem change, not a staged `git rm` action, due to `.gitignore`."],"name":"TasksDirectoryHandling","entityType":"ProjectConfiguration"}
{"type":"entity","name":"Test-Driven Development","observations":["ACTION REQUIRED: YOU MUST APPLY Test-Driven Development (TDD) for all code changes in this project.","FIRST STEP: Before proposing *any* code modification (e.g., via `edit_file`) or writing implementation code, ALWAYS write the necessary test(s) first.","TDD CYCLE: Follow the Red-Green-Refactor cycle (Write failing test -> Write code to pass -> Refactor).","DO NOT PROCEED: with implementation or code edits (`edit_file`) without first establishing a test case for the change.","TDD is a software development approach where tests are written before the code implementation.","Benefits include better design, higher code quality, built-in regression testing, and clear specification of requirements.","**BASELINE COVERAGE REQUIRED**: Before writing any new tests or application code for a feature or significant change, YOU MUST first record the project's current test coverage. Use the project-specific command (e.g., `go test ./... -cover` for Go projects). Log this baseline coverage figure. This step is critical for understanding the impact of new tests and changes.","CRITICAL WORKFLOW STEP: Immediately after parsing a PRD and *before* identifying or starting the first task that involves writing tests or application code (as per TDD), ALWAYS run and record the baseline test coverage using the project-specific command (e.g., `go test ./... -cover` for Go). Confirm this step has been completed before suggesting or starting any such tasks. This step is critical for understanding the impact of new tests and changes."],"entityType":"Development Principle"}
{"type":"entity","name":"Get PRDs","entityType":"UserIntent","observations":["User wants to work with Taskmaster and GitHub issues labeled PRD."]}
{"type":"entity","observations":["A tool for managing software development projects."],"name":"Taskmaster","entityType":"Tool"}
{"type":"entity","entityType":"DataSource","observations":["These issues are used as Product Requirement Documents."],"name":"GitHub Issues with PRD label"}
{"type":"entity","name":"youtube-automation Go project build process","entityType":"build_process","observations":["This Go project utilizes a `vendor` directory for its dependencies.","After modifying Go dependencies (e.g., with `go get` or `go mod tidy`), `go mod vendor` must be run to synchronize the `vendor` directory."]}
{"type":"entity","name":"youtube-web","entityType":"Repository","observations":["Frontend repository that consumes the YouTube Automation API","Should receive PRDs when the youtube-automation API changes","PRDs should contain all information needed for frontend implementation of API changes"]}
{"type":"entity","name":"Memory MCP Usage Restriction","entityType":"AgentBehaviorGuideline","observations":["The agent must only READ from memory MCP (search, open nodes, read graph) unless explicitly instructed by the user to add or update memory information","Do NOT create new entities, observations, or relations without explicit user request","Do NOT update existing memory entries unless specifically asked by the user","Memory modifications should only occur when the user explicitly says to memorize, remember, or update something in memory","This ensures memory remains under user control and prevents unwanted automatic memory updates"]}
{"type":"entity","name":"Session Completion Protocol","entityType":"Workflow","observations":["When user indicates session completion ('We're done'), follow these steps:","1. Check git status for uncommitted changes","2. If on main branch: create feature branch, stage all changes, commit with descriptive message","3. Push branch and create PR targeting main","5. Check PR reviews using GitHub MCP tools","6. If approved: squash merge PR, delete feature branch locally and remotely","7. Switch to main, pull latest changes","API Change Check: If API endpoints were modified, create corresponding PRD in youtube-web repository","UPDATED CLEANUP STEP: Clean up generated task files from .taskmaster/tasks/ directory (task_*.txt, tasks.json) but PRESERVE source documents in .taskmaster/docs/ (prd.txt) and configuration files (.taskmaster/config.json). Use 'rm -f .taskmaster/tasks/*' to clean up workflow artifacts while keeping source materials.","UPDATED AUTOMATED PROTOCOL: Differentiate between code changes and administrative tasks","FOR ADMINISTRATIVE TASKS (documentation, PRD cleanup, memory updates): Fully automated workflow","FOR CODE CHANGES: Manual review required workflow","ADMINISTRATIVE TASK STEPS: 1) Check git status 2) Create feature branch 3) Commit with admin tag 4) Push and create PR 5) AUTO-MERGE immediately 6) Delete branches 7) Switch to main and pull","CODE CHANGE STEPS: 1) Check git status 2) Create feature branch 3) Commit 4) Push and create PR 5) Wait for review/approval 6) Manual merge after approval 7) Cleanup","STEP 4 CLARIFICATION: For admin tasks - tag commit with 'docs:' or 'admin:' prefix to enable auto-merge","AUTOMATION RULE: If commit message starts with 'docs:', 'admin:', 'chore:', or 'style:' - proceed with automated merge","LESSON: Previous protocol failed because it mixed administrative cleanup with code review workflows"]}
{"type":"entity","name":"Testing Requirements","entityType":"Development Standard","observations":["Test-Driven Development (TDD) is mandatory - write tests before implementation code","Record baseline test coverage (go test ./... -cover) before making changes","All tests must pass before marking Taskmaster tasks as 'done'","Always run full test suite after code changes","Focus on integration tests over mocks except for external APIs","Verify code compiles successfully after changes"]}
{"type":"entity","name":"Git Workflow Standards","entityType":"Development Standard","observations":["vfarcic/youtube-automation requires PRs - no direct pushes to main branch","Default merge strategy: squash and merge","Before pushing to main: run 'go build -o youtube-release' and 'chmod +x youtube-release'","Always check git status for uncommitted changes before operations","Show files to be staged before running git add","Use GitHub MCP tools for remote operations, git CLI for local operations","After go mod changes: run 'go mod vendor' to sync vendor directory"]}
{"type":"entity","name":"PRD Management Workflow","entityType":"Development Standard","observations":["PRDs are GitHub Issues labeled 'PRD' - single source of truth","Use mcp_github_list_issues with 'PRD' label to fetch requirements","Must use Taskmaster to generate tasks from PRDs before implementation","Update GitHub Issue with work status when starting PRD","When PRD complete: close GitHub Issue and clean up local task files","Avoid duplicating PRD content in local files - work directly from GitHub Issues","LESSON LEARNED: PRD #210 was completed but GitHub Issue was left open - this caused confusion later","NEW RULE: Immediately after merging PRD implementation, ALWAYS close the GitHub PRD Issue with completion comment","AUTOMATION REMINDER: Use mcp_github_add_issue_comment + mcp_github_update_issue to close PRDs","FAILURE POINT: The gap between 'code merged' and 'PRD administratively closed' is where we lose track"]}
{"type":"entity","name":"Core Development Guidelines","entityType":"Development Standard","observations":["Always suggest commit messages rather than asking user to provide them","Present choices as numbered lists for easy user selection","Memory MCP: READ-ONLY unless explicitly asked to update by user","When in doubt about syntax/features: consult Context7 documentation","Validate Nushell scripts after modification using script --help","Add new unit tests for new features even if existing tests pass"]}
{"type":"entity","name":"PRD Completion Checklist","entityType":"Workflow","observations":["MANDATORY CHECKLIST: Follow this EXACT sequence when completing any PRD work to avoid missing critical steps:","✅ 1. Implementation complete - All code changes made and tested","✅ 2. Tests passing - Full test suite passes (go test ./... -cover)","✅ 3. Code committed and merged - Changes pushed to main branch via PR","🔥 4. CLOSE GITHUB PRD ISSUE - Add completion comment and close the GitHub Issue immediately after merge","🔥 5. CLEAN UP LOCAL TASK FILES - Remove generated task files: rm -f .taskmaster/tasks/* (preserve .taskmaster/docs/)","CRITICAL: Steps 4 and 5 are frequently missed! Always complete ALL steps before considering PRD done.","REMINDER: PRD #210 was missed because we forgot steps 4 and 5 - this checklist prevents that.","WORKFLOW TRIGGER: As soon as code is merged to main, immediately execute steps 4 and 5."]}
{"type":"relation","from":"YouTube Automation Tool","to":"Project Config","relationType":"uses"}
{"type":"relation","from":"YouTube Automation Tool","to":"Project Requirements","relationType":"requires"}
{"type":"relation","from":"Project","to":"YouTube Automation Tool","relationType":"is"}
{"type":"relation","from":"YouTube Automation Tool","to":"Charmbracelet Libraries","relationType":"uses for UI"}
{"type":"relation","to":"Taskmaster","relationType":"means user wants to work with","from":"Get PRDs"}
{"type":"relation","from":"Get PRDs","relationType":"means user wants to work with","to":"GitHub Issues with PRD label"}
{"type":"relation","to":"Taskmaster","from":"GitHub Issues with PRD label","relationType":"are used as PRDs for"}
{"type":"relation","from":"YouTube Automation Tool","to":"youtube-web","relationType":"provides API for"}
{"type":"relation","from":"YouTube Automation Tool","to":"Testing Requirements","relationType":"follows"}
{"type":"relation","from":"YouTube Automation Tool","to":"Git Workflow Standards","relationType":"follows"}
{"type":"relation","from":"YouTube Automation Tool","to":"PRD Management Workflow","relationType":"follows"}
{"type":"relation","from":"Session Completion Protocol","to":"youtube-web","relationType":"creates PRDs in"}
{"type":"relation","from":"PRD Completion Checklist","to":"PRD Management Workflow","relationType":"enhances"}
{"type":"relation","from":"PRD Completion Checklist","to":"Session Completion Protocol","relationType":"integrates with"}
{"type":"relation","from":"YouTube Automation Tool","to":"PRD Completion Checklist","relationType":"follows"}